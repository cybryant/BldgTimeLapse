<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <title>Tally Buildings</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.25/esri/themes/dark/main.css"
    />

    <!-- sets empty favicon to avoid 404 error in some browsers -->
    <link rel="icon" href="data:," />

    <!-- external API locations -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="https://js.arcgis.com/4.25/"></script>
  </head>

  <body>
    <div id="applicationDiv">
      <!-- filter widget -->
      <div id="landUse-filter" class="esri-widget">
        <div class="landUse-item visible-landUse" data-landUse="Multi-Family">
          Multi-Family
        </div>
        <div
          class="landUse-item visible-landUse"
          data-landUse="Single Family Attached"
        >
          Single Family Attached
        </div>
        <div
          class="landUse-item visible-landUse"
          data-landUse="Single Family Detached/Mobile Home"
        >
          Single Family Detached
        </div>
        <div class="landUse-item visible-landUse" data-landUse="Office">
          Office
        </div>
        <div class="landUse-item visible-landUse" data-landUse="Retail">
          Retail
        </div>
      </div>

      <!-- main window -->
      <div id="viewDiv">
        <div id="titleDiv" class="esri-widget">Leon County Buildings</div>

        <!-- collapsible sidepanel -->
        <!-- This was based on the W3 template, but for any elements that you want to appear inside the application window, add a 
        //view.ui.add("[id]", "[location]");// in the js file; this includes the open button so it has to be
        given an id; class "esri-widget" also would work for the panel & buttons and just seems to add it's own styling -->
        <!-- <div id="sidePanel" class="sidepanel"> -->
        <!-- <div id="sidePanel" class="esri-widget"> -->
        <!-- <a class="closebtn" onclick="closeNav()">Close</a> -->
        <!-- <canvas id="popChart"></canvas> -->
        <!-- </div> -->

        <!-- <button id="openButton" class="openbtn" onclick="openNav()"> -->
        <!-- <button id="openButton" class="esri-widget" onclick="openNav()"> -->
        <!-- Population Chart -->
        <!-- </button> -->
      </div>

      <!-- slider -->
      <div id="sliderContainer" class="esri-widget">
        <span id="sliderValue"></span>
        <div id="sliderInnerContainer">
          <div id="slider"></div>
        </div>
        <div
          id="playButton"
          class="esri-widget esri-widget--button toggle-button"
        >
          <div>
            <span
              class="toggle-button-icon esri-icon-play"
              aria-label="play icon"
            ></span>
            Play
          </div>
          <div>
            <span
              class="toggle-button-icon esri-icon-pause"
              aria-label="pause icon"
            ></span>
            Pause
          </div>
        </div>
      </div>

      <!------------------->
      <!-- OPTIONS PANEL -->
      <!------------------->
      <div id="optionsPanel" class="esri-widget">
        <div id="cityLimToggle" class="esri-widget" class="togSwitch">
          <b>City Limits:&nbsp;&nbsp;</b>
          <label class="toggle">
            <input id="checkboxID_cityLim" type="checkbox" />
            <span
              class="labels"
              data-checked="SHOWING"
              data-notChecked="HIDDEN"
            ></span>
          </label>
        </div>
        <div id="renderBtns">
          <br />
          <b>Display New Construction As:</b>
          <br />
          <!-- points -->
          <input
            type="radio"
            id="points"
            name="renderType"
            value="points"
            checked
          />
          <label for="points">points&nbsp;&nbsp;</label>
          <!-- parcels -->
          <input type="radio" id="parcels" name="renderType" value="parcels" />
          <label for="parcels">parcels</label>
          <br />
          <br />
        </div>
        <div id="filterBtns">
          <b>Filter by Land Use:</b> <br />
          <!-- no filter -->
          <input
            type="radio"
            id="noFilter"
            name="trailTypes"
            value="noFilter"
            checked
          />
          <label for="noFilter">none</label>
          <!-- shared use trails -->
          <input type="radio" id="shared" name="trailTypes" value="shared" />
          <label for="shared">shared</label>
          <!-- hiking trails -->
          <input type="radio" id="hike" name="trailTypes" value="hike" />
          <label for="hike">hike</label>
          <!-- biking trails -->
          <input type="radio" id="bike" name="trailTypes" value="bike" />
          <label for="bike">bike</label>
          <!-- access trails -->
          <input type="radio" id="access" name="trailTypes" value="access" />
          <label for="access">access</label>
          <br />
          <br />
        </div>
        <div><b>Show charts:</b> <br /></div>

        <div id="chartsSidebar" class="sidebar">
          <span class="closeSidebarButton">&times;</span>

          <!-- CHART.JS POPULATION CHART -->
          <div id="popDiv">
            <!-- <div class="esri-widget__heading">
              <h4>Annual Population</h4>
            </div> -->
            <div id="popChartToggle" class="togSwitch" class="esri-widget">
              <b>County Population:&nbsp;&nbsp;</b>
              <label class="toggle">
                <input id="checkboxID_popChart" type="checkbox" checked />
                <span
                  class="labels"
                  data-checked="SHOWING"
                  data-notChecked="HIDDEN"
                ></span>
              </label>
            </div>
            <br />
            <canvas
              id="popChartCanvas"
              height="300"
              width="400"
              class="esri-widget"
            ></canvas>
          </div>
        </div>

        <span id="sidebarToggler" class="toggler">charts &#9776;</span>
      </div>
    </div>

    <!-- <script src="main.js"></script> -->
    <script src="popDatapoints.js"></script>
    <script src="bldgTypes.js"></script>
  </body>
</html>

<!-- <script>
  for (feature in annexLayer) {
    var cityLimitFeats = [];
    console("test2");
    if ($feature.ANNEXYEAR <= year) {
      cityLimitFeats.append($feature);
      return geometryEngine.union(cityLimitFeats);
    }
  }
</script> -->
